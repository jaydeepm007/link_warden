"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7],{148:function(e,s,t){t.d(s,{Z:function(){return f}});var a=t(5893),n=t(7294),l=t(8229),i=t(8276),c=t(6496),r=t(202);function o(e){let{setSearchFilter:s,searchFilter:t}=e,{t:n}=(0,i.$G)(),o=(0,r.NL)();return(0,a.jsxs)("div",{className:"dropdown dropdown-bottom dropdown-end",children:[(0,a.jsx)("div",{tabIndex:0,role:"button",onMouseDown:l.Mm,className:"btn btn-sm btn-square btn-ghost",children:(0,a.jsx)("i",{className:"bi-funnel text-neutral text-2xl"})}),(0,a.jsxs)("ul",{className:"dropdown-content z-[30] menu shadow bg-base-200 border border-neutral-content rounded-box mt-1",children:[(0,a.jsx)("li",{children:(0,a.jsxs)("label",{className:"label cursor-pointer flex justify-start",tabIndex:0,role:"button",children:[(0,a.jsx)("input",{type:"checkbox",name:"search-filter-checkbox",className:"checkbox checkbox-primary",checked:t.name,onChange:()=>{(0,c.Sw)(o,["links"]),s({...t,name:!t.name})}}),(0,a.jsx)("span",{className:"label-text whitespace-nowrap",children:n("name")})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("label",{className:"label cursor-pointer flex justify-start",tabIndex:0,role:"button",children:[(0,a.jsx)("input",{type:"checkbox",name:"search-filter-checkbox",className:"checkbox checkbox-primary",checked:t.url,onChange:()=>{(0,c.Sw)(o,["links"]),s({...t,url:!t.url})}}),(0,a.jsx)("span",{className:"label-text whitespace-nowrap",children:n("link")})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("label",{className:"label cursor-pointer flex justify-start",tabIndex:0,role:"button",children:[(0,a.jsx)("input",{type:"checkbox",name:"search-filter-checkbox",className:"checkbox checkbox-primary",checked:t.description,onChange:()=>{(0,c.Sw)(o,["links"]),s({...t,description:!t.description})}}),(0,a.jsx)("span",{className:"label-text whitespace-nowrap",children:n("description")})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("label",{className:"label cursor-pointer flex justify-start",tabIndex:0,role:"button",children:[(0,a.jsx)("input",{type:"checkbox",name:"search-filter-checkbox",className:"checkbox checkbox-primary",checked:t.tags,onChange:()=>{(0,c.Sw)(o,["links"]),s({...t,tags:!t.tags})}}),(0,a.jsx)("span",{className:"label-text whitespace-nowrap",children:n("tags")})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("label",{className:"label cursor-pointer flex justify-between",tabIndex:0,role:"button",children:[(0,a.jsx)("input",{type:"checkbox",name:"search-filter-checkbox",className:"checkbox checkbox-primary",checked:t.textContent,onChange:()=>{(0,c.Sw)(o,["links"]),s({...t,textContent:!t.textContent})}}),(0,a.jsx)("span",{className:"label-text whitespace-nowrap",children:n("full_content")}),(0,a.jsx)("div",{className:"ml-auto badge badge-sm badge-neutral whitespace-nowrap",children:n("slower")})]})})]})]})}var d=t(8590),x=t(2772),h=t(654),m=t(2890),b=t(7179),u=t(2676),p=t(1163),j=t(5662),g=t(6501),f=e=>{let{children:s,t,viewMode:l,setViewMode:i,searchFilter:r,setSearchFilter:f,sortBy:N,setSortBy:k,editMode:w,setEditMode:v}=e,{selectedLinks:y,setSelectedLinks:Z}=(0,j.Z)(),_=(0,c.tD)(),{links:C}=(0,c.u8)(),P=(0,p.useRouter)(),[S,E]=(0,n.useState)(!1),[D,I]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(w&&v)return v(!1)},[P]);let A=function(e){let{data:s=[]}=(0,b.bX)(),{data:t={}}=(0,u.a)(),[a,l]=(0,n.useState)();return(0,n.useEffect)(()=>{for(let c of e){let e=s.find(e=>e.id===c);if(e){var a,n,i;let s=e.members.find(e=>e.userId===t.id);(null===(a=s)||void 0===a?void 0:a.canCreate)===!1&&(null===(n=s)||void 0===n?void 0:n.canUpdate)===!1&&(null===(i=s)||void 0===i?void 0:i.canDelete)===!1&&(s=void 0),l(t.id===e.ownerId||s)}}},[t,s,e]),a}(y.map(e=>e.collectionId)),M=()=>{y.length===C.length?Z([]):Z(C.map(e=>e))},F=async()=>{let e=g.ZP.loading(t("deleting"));await _.mutateAsync(y.map(e=>e.id),{onSettled:(s,a)=>{g.ZP.dismiss(e),a?g.ZP.error(a.message):(Z([]),g.ZP.success(t("deleted")))}})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[s,(0,a.jsx)("div",{className:"flex gap-3 items-center justify-end",children:(0,a.jsxs)("div",{className:"flex gap-2 items-center mt-2",children:[C&&C.length>0&&void 0!==w&&v&&(0,a.jsx)("div",{role:"button",onClick:()=>{v(!w),Z([])},className:"btn btn-square btn-sm btn-ghost ".concat(w?"bg-primary/20 hover:bg-primary/20":"hover:bg-neutral/20"),children:(0,a.jsx)("i",{className:"bi-pencil-fill text-neutral text-xl"})}),r&&f&&(0,a.jsx)(o,{searchFilter:r,setSearchFilter:f}),(0,a.jsx)(d.Z,{sortBy:N,setSort:e=>{k(e)},t:t}),(0,a.jsx)(x.Z,{viewMode:l,setViewMode:i})]})})]}),C&&w&&C.length>0&&(0,a.jsxs)("div",{className:"w-full flex justify-between items-center min-h-[32px]",children:[(0,a.jsxs)("div",{className:"flex gap-3 ml-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"checkbox checkbox-primary",onChange:()=>M(),checked:y.length===C.length&&C.length>0}),y.length>0?(0,a.jsx)("span",{children:1===y.length?t("link_selected"):t("links_selected",{count:y.length})}):(0,a.jsx)("span",{children:t("nothing_selected")})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>I(!0),className:"btn btn-sm btn-accent text-white w-fit ml-auto",disabled:0===y.length||!(!0===A||(null==A?void 0:A.canUpdate)),children:t("edit")}),(0,a.jsx)("button",{onClick:e=>{var s,t;null===(s=null===(t=document)||void 0===t?void 0:t.activeElement)||void 0===s||s.blur(),e.shiftKey?F():E(!0)},className:"btn btn-sm bg-red-500 hover:bg-red-400 text-white w-fit ml-auto",disabled:0===y.length||!(!0===A||(null==A?void 0:A.canDelete)),children:t("delete")})]})]}),S&&(0,a.jsx)(h.Z,{onClose:()=>{E(!1)}}),D&&(0,a.jsx)(m.Z,{onClose:()=>{I(!1)}})]})}},654:function(e,s,t){t.d(s,{Z:function(){return d}});var a=t(5893);t(7294);var n=t(5662),l=t(7169),i=t(7199),c=t(8276),r=t(6496),o=t(6501);function d(e){let{onClose:s}=e,{t}=(0,c.$G)(),{selectedLinks:d,setSelectedLinks:x}=(0,n.Z)(),h=(0,r.tD)(),m=async()=>{let e=o.ZP.loading(t("deleting"));await h.mutateAsync(d.map(e=>e.id),{onSettled:(a,n)=>{o.ZP.dismiss(e),n?o.ZP.error(n.message):(x([]),s(),o.ZP.success(t("deleted")))}})};return(0,a.jsxs)(l.Z,{toggleModal:s,children:[(0,a.jsx)("p",{className:"text-xl font-thin text-red-500",children:1===d.length?t("delete_link"):t("delete_links",{count:d.length})}),(0,a.jsx)("div",{className:"divider mb-3 mt-1"}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("p",{children:1===d.length?t("link_deletion_confirmation_message"):t("links_deletion_confirmation_message",{count:d.length})}),(0,a.jsxs)("div",{role:"alert",className:"alert alert-warning",children:[(0,a.jsx)("i",{className:"bi-exclamation-triangle text-xl"}),(0,a.jsx)("span",{children:t("warning_irreversible")})]}),(0,a.jsx)("p",{children:t("shift_key_tip")}),(0,a.jsxs)(i.Z,{className:"ml-auto",intent:"destructive",onClick:m,children:[(0,a.jsx)("i",{className:"bi-trash text-xl"}),t("delete")]})]})]})}},2890:function(e,s,t){t.d(s,{Z:function(){return h}});var a=t(5893),n=t(7294),l=t(1810),i=t(2122),c=t(5662),r=t(6501),o=t(7169),d=t(8276),x=t(6496);function h(e){let{onClose:s}=e,{t}=(0,d.$G)(),{selectedLinks:h,setSelectedLinks:m}=(0,c.Z)(),[b,u]=(0,n.useState)(!1),[p,j]=(0,n.useState)(!1),[g,f]=(0,n.useState)({tags:[]}),N=(0,x.Yi)(),k=async()=>{if(!b){u(!0);let e=r.ZP.loading(t("updating"));await N.mutateAsync({links:h,newData:g,removePreviousTags:p},{onSettled:(a,n)=>{r.ZP.dismiss(e),n?r.ZP.error(n.message):(m([]),s(),r.ZP.success(t("updated")))}}),u(!1)}};return(0,a.jsxs)(o.Z,{toggleModal:s,children:[(0,a.jsx)("p",{className:"text-xl font-thin",children:1===h.length?t("edit_link"):t("edit_links",{count:h.length})}),(0,a.jsx)("div",{className:"divider mb-3 mt-1"}),(0,a.jsxs)("div",{className:"mt-5",children:[(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"mb-2",children:t("move_to_collection")}),(0,a.jsx)(l.Z,{showDefaultValue:!1,onChange:e=>{let s=(null==e?void 0:e.value)||null;f(e=>({...e,collectionId:s}))},creatable:!1})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"mb-2",children:t("add_tags")}),(0,a.jsx)(i.Z,{onChange:e=>{let s=e.map(e=>({name:e.label}));f(e=>({...e,tags:s}))}})]})]}),(0,a.jsx)("div",{className:"sm:ml-auto w-1/2 p-3",children:(0,a.jsxs)("label",{className:"flex items-center gap-2 ",children:[(0,a.jsx)("input",{type:"checkbox",className:"checkbox checkbox-primary",checked:p,onChange:e=>j(e.target.checked)}),t("remove_previous_tags")]})})]}),(0,a.jsx)("div",{className:"flex justify-end items-center mt-5",children:(0,a.jsx)("button",{className:"btn btn-accent dark:border-violet-400 text-white",onClick:k,children:t("save_changes")})})]})}},8590:function(e,s,t){t.d(s,{Z:function(){return d}});var a=t(5893),n=t(7294),l=t(7102),i=t(8229),c=t(7472),r=t(6496),o=t(202);function d(e){let{sortBy:s,setSort:t,t:d}=e,{updateSettings:x}=(0,c.Z)(),h=(0,o.NL)();return(0,n.useEffect)(()=>{x({sortBy:s})},[s]),(0,a.jsxs)("div",{className:"dropdown dropdown-bottom dropdown-end",children:[(0,a.jsx)("div",{tabIndex:0,role:"button",onMouseDown:i.Mm,className:"btn btn-sm btn-square btn-ghost border-none",children:(0,a.jsx)("i",{className:"bi-chevron-expand text-neutral text-2xl"})}),(0,a.jsxs)("ul",{className:"dropdown-content z-[30] menu shadow bg-base-200 border border-neutral-content rounded-xl mt-1",children:[(0,a.jsx)("li",{children:(0,a.jsxs)("label",{className:"label cursor-pointer flex justify-start",tabIndex:0,role:"button",children:[(0,a.jsx)("input",{type:"radio",name:"sort-radio",className:"radio checked:bg-primary",checked:s===l.PE.DateNewestFirst,onChange:()=>{(0,r.Sw)(h,["links"]),t(l.PE.DateNewestFirst)}}),(0,a.jsx)("span",{className:"label-text whitespace-nowrap",children:d("date_newest_first")})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("label",{className:"label cursor-pointer flex justify-start",tabIndex:0,role:"button",children:[(0,a.jsx)("input",{type:"radio",name:"sort-radio",className:"radio checked:bg-primary",checked:s===l.PE.DateOldestFirst,onChange:()=>{(0,r.Sw)(h,["links"]),t(l.PE.DateOldestFirst)}}),(0,a.jsx)("span",{className:"label-text whitespace-nowrap",children:d("date_oldest_first")})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("label",{className:"label cursor-pointer flex justify-start",tabIndex:0,role:"button",children:[(0,a.jsx)("input",{type:"radio",name:"sort-radio",className:"radio checked:bg-primary",checked:s===l.PE.NameAZ,onChange:()=>{(0,r.Sw)(h,["links"]),t(l.PE.NameAZ)}}),(0,a.jsx)("span",{className:"label-text whitespace-nowrap",children:d("name_az")})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("label",{className:"label cursor-pointer flex justify-start",tabIndex:0,role:"button",children:[(0,a.jsx)("input",{type:"radio",name:"sort-radio",className:"radio checked:bg-primary",checked:s===l.PE.NameZA,onChange:()=>{(0,r.Sw)(h,["links"]),t(l.PE.NameZA)}}),(0,a.jsx)("span",{className:"label-text whitespace-nowrap",children:d("name_za")})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("label",{className:"label cursor-pointer flex justify-start",tabIndex:0,role:"button",children:[(0,a.jsx)("input",{type:"radio",name:"sort-radio",className:"radio checked:bg-primary",checked:s===l.PE.DescriptionAZ,onChange:()=>{(0,r.Sw)(h,["links"]),t(l.PE.DescriptionAZ)}}),(0,a.jsx)("span",{className:"label-text whitespace-nowrap",children:d("description_az")})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("label",{className:"label cursor-pointer flex justify-start",tabIndex:0,role:"button",children:[(0,a.jsx)("input",{type:"radio",name:"sort-radio",className:"radio checked:bg-primary",checked:s===l.PE.DescriptionZA,onChange:()=>{(0,r.Sw)(h,["links"]),t(l.PE.DescriptionZA)}}),(0,a.jsx)("span",{className:"label-text whitespace-nowrap",children:d("description_za")})]})})]})]})}}}]);