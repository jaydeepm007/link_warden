(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return l(9431)}])},8202:function(e,t,l){"use strict";l.d(t,{Z:function(){return a}});var s=l(5893);function a(e){let{title:t,description:l,icon:a}=e;return(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("i",{className:"".concat(a," text-primary sm:text-3xl text-2xl drop-shadow")}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-3xl capitalize font-thin",children:t}),(0,s.jsx)("p",{className:"text-xs sm:text-sm",children:l})]})]})}l(7294)},9431:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSP:function(){return _},default:function(){return y}});var s=l(5893),a=l(8465),i=l(7294),n=l(1664),r=l.n(n),d=l(8050),o=l(6501),c=l(7102);function x(e){let{name:t,value:l,icon:a}=e;return(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-[4rem] aspect-square flex justify-center items-center bg-primary/20 rounded-xl select-none",children:(0,s.jsx)("i",{className:"".concat(a," text-primary text-3xl drop-shadow")})}),(0,s.jsxs)("div",{className:"ml-4 flex flex-col justify-center",children:[(0,s.jsx)("p",{className:"text-neutral text-xs tracking-wider",children:t}),(0,s.jsx)("p",{className:"font-thin text-5xl text-primary mt-0.5",children:l})]})]})}var m=l(5016),u=l(8202),h=l(2772),f=l(8229),p=l(8276),j=l(7179),w=l(4806),b=l(8551),v=l(3299);let g=()=>{let{status:e}=(0,v.useSession)();return(0,b.a)({queryKey:["dashboardData"],queryFn:async()=>{let e=await fetch("/api/v1/dashboard"),t=await e.json();return t.response},enabled:"authenticated"===e})};var N=l(1821),_=!0;function y(){var e;let{t}=(0,p.$G)(),{data:l=[]}=(0,j.bX)(),n=g(),{data:b=[]}=(0,w.e0)(),[v,_]=(0,i.useState)(0),[y,k]=(0,i.useState)(3);(0,i.useEffect)(()=>{_(l.reduce((e,t)=>e+t._count.links,0))},[l]);let Z=()=>{window.innerWidth>1900?k(10):window.innerWidth>1500?k(8):window.innerWidth>880?k(6):window.innerWidth>550?k(4):k(2)},{width:C}=(0,d.Z)();(0,i.useEffect)(()=>{Z()},[C]);let S=async(e,t)=>{let l=e.target.files[0];if(l){var s=new FileReader;s.readAsText(l,"UTF-8"),s.onload=async function(e){var l;let s=o.Am.loading("Importing..."),a=null===(l=e.target)||void 0===l?void 0:l.result,i=await fetch("/api/v1/migration",{method:"POST",body:JSON.stringify({format:t,data:a})});await i.json(),o.Am.dismiss(s),o.Am.success("Imported the Bookmarks! Reloading the page..."),setTimeout(()=>{location.reload()},2e3)},s.onerror=function(e){console.log("Error:",e)}}},[E,P]=(0,i.useState)(!1),[F,I]=(0,i.useState)(localStorage.getItem("viewMode")||c.wO.Card);return(0,s.jsxs)(a.Z,{children:[(0,s.jsxs)("div",{style:{flex:"1 1 auto"},className:"p-5 flex flex-col gap-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(u.Z,{icon:"bi-house ",title:"Dashboard",description:t("dashboard_desc")}),(0,s.jsx)(h.Z,{viewMode:F,setViewMode:I})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex justify-evenly flex-col xl:flex-row xl:items-center gap-2 xl:w-full h-full rounded-2xl p-8 border border-neutral-content bg-base-200",children:[(0,s.jsx)(x,{name:t(1===v?"link":"links"),value:v,icon:"bi-link-45deg"}),(0,s.jsx)("div",{className:"divider xl:divider-horizontal"}),(0,s.jsx)(x,{name:t(1===l.length?"collection":"collections"),value:l.length,icon:"bi-folder"}),(0,s.jsx)("div",{className:"divider xl:divider-horizontal"}),(0,s.jsx)(x,{name:t(1===b.length?"tag":"tags"),value:b.length,icon:"bi-hash"})]})}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"flex gap-2 items-center",children:(0,s.jsx)(u.Z,{icon:"bi-clock-history",title:t("recent"),description:t("recent_links_desc")})}),(0,s.jsxs)(r(),{href:"/links",className:"flex items-center text-sm text-black/75 dark:text-white/75 gap-2 cursor-pointer",children:[t("view_all"),(0,s.jsx)("i",{className:"bi-chevron-right text-sm"})]})]}),(0,s.jsx)("div",{style:{flex:n.data||n.isLoading?"0 1 auto":"1 1 auto"},className:"flex flex-col 2xl:flex-row items-start 2xl:gap-2",children:n.isLoading?(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(N.ZP,{layout:F,placeholderCount:y/2,useData:n})}):n.data&&n.data[0]&&!n.isLoading?(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(N.ZP,{links:n.data.slice(0,y),layout:F})}):(0,s.jsxs)("div",{className:"sky-shadow flex flex-col justify-center h-full border border-solid border-neutral-content w-full mx-auto p-10 rounded-2xl bg-base-200",children:[(0,s.jsx)("p",{className:"text-center text-2xl",children:t("view_added_links_here")}),(0,s.jsx)("p",{className:"text-center mx-auto max-w-96 w-fit text-neutral text-sm mt-2",children:t("view_added_links_here_desc")}),(0,s.jsxs)("div",{className:"text-center w-full mt-4 flex flex-wrap gap-4 justify-center",children:[(0,s.jsxs)("div",{onClick:()=>{P(!0)},className:"inline-flex items-center gap-2 text-sm btn btn-accent dark:border-violet-400 text-white",children:[(0,s.jsx)("i",{className:"bi-plus-lg text-xl"}),(0,s.jsx)("span",{className:"group-hover:opacity-0 text-right",children:t("add_link")})]}),(0,s.jsxs)("div",{className:"dropdown dropdown-bottom",children:[(0,s.jsxs)("div",{tabIndex:0,role:"button",onMouseDown:f.Mm,className:"inline-flex items-center gap-2 text-sm btn bg-neutral-content text-secondary-foreground hover:bg-neutral-content/80 border border-neutral/30 hover:border hover:border-neutral/30",id:"import-dropdown",children:[(0,s.jsx)("i",{className:"bi-cloud-upload text-xl duration-100"}),(0,s.jsx)("p",{children:t("import_links")})]}),(0,s.jsxs)("ul",{className:"shadow menu dropdown-content z-[1] bg-base-200 border border-neutral-content rounded-box mt-1",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("label",{tabIndex:0,role:"button",htmlFor:"import-linkwarden-file",title:t("from_linkwarden"),className:"whitespace-nowrap",children:[t("from_linkwarden"),(0,s.jsx)("input",{type:"file",name:"photo",id:"import-linkwarden-file",accept:".json",className:"hidden",onChange:e=>S(e,c.en.linkwarden)})]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("label",{tabIndex:0,role:"button",htmlFor:"import-html-file",title:t("from_html"),className:"whitespace-nowrap",children:[t("from_html"),(0,s.jsx)("input",{type:"file",name:"photo",id:"import-html-file",accept:".html",className:"hidden",onChange:e=>S(e,c.en.htmlFile)})]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("label",{tabIndex:0,role:"button",htmlFor:"import-wallabag-file",title:t("from_wallabag"),className:"whitespace-nowrap",children:[t("from_wallabag"),(0,s.jsx)("input",{type:"file",name:"photo",id:"import-wallabag-file",accept:".json",className:"hidden",onChange:e=>S(e,c.en.wallabag)})]})})]})]})]})]})}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"flex gap-2 items-center",children:(0,s.jsx)(u.Z,{icon:"bi-pin-angle",title:t("pinned"),description:t("pinned_links_desc")})}),(0,s.jsxs)(r(),{href:"/links/pinned",className:"flex items-center text-sm text-black/75 dark:text-white/75 gap-2 cursor-pointer",children:[t("view_all"),(0,s.jsx)("i",{className:"bi-chevron-right text-sm "})]})]}),(0,s.jsx)("div",{style:{flex:"1 1 auto"},className:"flex flex-col 2xl:flex-row items-start 2xl:gap-2",children:n.isLoading?(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(N.ZP,{layout:F,placeholderCount:y/2,useData:n})}):(null===(e=n.data)||void 0===e?void 0:e.some(e=>e.pinnedBy&&e.pinnedBy[0]))?(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(N.ZP,{links:n.data.filter(e=>e.pinnedBy&&e.pinnedBy[0]).slice(0,y),layout:F})}):(0,s.jsxs)("div",{style:{flex:"1 1 auto"},className:"flex flex-col gap-2 justify-center h-full border border-solid border-neutral-content w-full mx-auto p-10 rounded-2xl bg-base-200",children:[(0,s.jsx)("i",{className:"bi-pin mx-auto text-6xl text-primary"}),(0,s.jsx)("p",{className:"text-center text-2xl",children:t("pin_favorite_links_here")}),(0,s.jsx)("p",{className:"text-center mx-auto max-w-96 w-fit text-neutral text-sm",children:t("pin_favorite_links_here_desc")})]})})]}),E?(0,s.jsx)(m.Z,{onClose:()=>P(!1)}):void 0]})}}},function(e){e.O(0,[517,664,675,584,832,385,463,797,598,283,465,907,774,888,179],function(){return e(e.s=528)}),_N_E=e.O()}]);