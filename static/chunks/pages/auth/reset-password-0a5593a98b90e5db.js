(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35],{3129:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/reset-password",function(){return r(5118)}])},4157:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5893);function s(e){let{autoFocus:t,value:r,type:s,placeholder:a,onChange:o,onKeyDown:l,className:i,spellCheck:d,"data-testid":c}=e;return(0,n.jsx)("input",{"data-testid":c,spellCheck:d,autoFocus:t,type:s||"text",placeholder:a,value:r,onChange:o,onKeyDown:l,className:"w-full rounded-md p-2 border-neutral-content border-solid border outline-none focus:border-primary duration-100 ".concat(i||"")})}},7199:function(e,t,r){"use strict";var n=r(5893),s=r(8229),a=r(5139);let o=(0,a.j)("select-none relative duration-200 rounded-lg text-center w-fit flex justify-center items-center gap-2 disabled:pointer-events-none disabled:opacity-50",{variants:{intent:{accent:"bg-accent text-white hover:bg-accent/80 border border-violet-400",primary:"bg-primary text-primary-content hover:bg-primary/80",secondary:"bg-neutral-content text-secondary-foreground hover:bg-neutral-content/80 border border-neutral/30",destructive:"bg-error text-white hover:bg-error/80 border border-neutral/60",outline:"border border-input bg-background hover:bg-accent hover:text-accent-content",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{small:"h-7 px-2",medium:"h-10 px-4 py-2",large:"h-12 px-7 py-2",full:"px-4 py-2 w-full",icon:"h-10 w-10"},loading:{true:"cursor-wait"}},defaultVariants:{intent:"primary",size:"medium"}});t.Z=e=>{let{className:t,intent:r,size:a,children:l,disabled:i,loading:d=!1,...c}=e;return(0,n.jsx)("button",{className:(0,s.cn)(o({intent:r,size:a,className:t})),disabled:d||i,...c,children:l})}},5519:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(5893),s=r(7472),a=r(5675),o=r.n(a),l=r(1664),i=r.n(l);r(7294);var d=r(8276);function c(e){let{text:t,children:r,"data-testid":a}=e,{settings:l}=(0,s.Z)();return(0,n.jsx)("div",{className:"absolute top-0 bottom-0 left-0 right-0 flex justify-center items-center p-5","data-testid":a,children:(0,n.jsxs)("div",{className:"m-auto flex flex-col gap-2 w-full",children:[l.theme?(0,n.jsx)(o(),{src:"/linkwarden_".concat("dark"===l.theme?"dark":"light",".png"),width:640,height:136,alt:"Linkwarden",className:"h-12 w-fit mx-auto"}):void 0,t?(0,n.jsx)("p",{className:"text-lg max-w-[30rem] min-w-80 w-full mx-auto font-semibold px-2 text-center",children:t}):void 0,r,(0,n.jsx)("p",{className:"text-center text-xs text-neutral mb-5",children:(0,n.jsx)(d.cC,{values:{date:new Date().getFullYear()},i18nKey:"all_rights_reserved",components:[(0,n.jsx)(i(),{href:"https://linkwarden.app",className:"font-semibold"})]})})]})})}},5118:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return p},default:function(){return m}});var n=r(5893),s=r(7199),a=r(4157),o=r(5519),l=r(1664),i=r.n(l),d=r(1163),c=r(7294),u=r(6501),f=r(8276),p=!0;function m(){let{t:e}=(0,f.$G)(),[t,r]=(0,c.useState)(!1),l=(0,d.useRouter)(),[p,m]=(0,c.useState)({password:"",token:l.query.token}),[h,x]=(0,c.useState)(!1);async function b(n){if(n.preventDefault(),""===p.password||""===p.token||h||t)u.Am.error(e("please_fill_all_fields"));else{r(!0);let t=u.Am.loading(e("sending_password_recovery_link")),n=await fetch("/api/v1/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}),s=await n.json();u.Am.dismiss(t),n.ok?(u.Am.success(s.response),x(!0)):u.Am.error(s.response),r(!1)}}return(0,n.jsx)(o.Z,{children:(0,n.jsx)("form",{onSubmit:b,children:(0,n.jsxs)("div",{className:"p-4 mx-auto flex flex-col gap-3 justify-between max-w-[30rem] min-w-80 w-full bg-base-200 rounded-2xl shadow-md border border-neutral-content",children:[(0,n.jsx)("p",{className:"text-3xl text-center font-extralight",children:h?e("password_updated"):e("reset_password")}),(0,n.jsx)("div",{className:"divider my-0"}),h?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:e("password_successfully_updated")}),(0,n.jsx)("div",{className:"mx-auto w-fit mt-3",children:(0,n.jsx)(i(),{className:"font-semibold",href:"/login",children:e("back_to_login")})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:e("enter_email_for_new_password")}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm w-fit font-semibold mb-1",children:e("new_password")}),(0,n.jsx)(a.Z,{autoFocus:!0,type:"password",placeholder:"••••••••••••••",value:p.password,className:"bg-base-100",onChange:e=>m({...p,password:e.target.value})})]}),(0,n.jsx)(s.Z,{type:"submit",intent:"accent",className:"mt-2",size:"full",loading:t,children:e("update_password")})]})]})})})}},5139:function(e,t,r){"use strict";r.d(t,{j:function(){return a}});let n=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,s=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,n,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(n=e(t[r]))&&(s&&(s+=" "),s+=n);else for(r in t)t[r]&&(s&&(s+=" "),s+=r)}return s}(e))&&(n&&(n+=" "),n+=t);return n},a=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:o,defaultVariants:l}=t,i=Object.keys(o).map(e=>{let t=null==r?void 0:r[e],s=null==l?void 0:l[e];if(null===t)return null;let a=n(t)||n(s);return o[e][a]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),c=null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...d}[t]):({...l,...d})[t]===r})?[...e,r,n]:e},[]);return s(e,i,c,null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[664,675,774,888,179],function(){return e(e.s=3129)}),_N_E=e.O()}]);