(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[988],{4370:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/delete",function(){return r(9856)}])},4157:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5893);function s(e){let{autoFocus:t,value:r,type:s,placeholder:l,onChange:a,onKeyDown:o,className:i,spellCheck:c,"data-testid":d}=e;return(0,n.jsx)("input",{"data-testid":d,spellCheck:c,autoFocus:t,type:s||"text",placeholder:l,value:r,onChange:a,onKeyDown:o,className:"w-full rounded-md p-2 border-neutral-content border-solid border outline-none focus:border-primary duration-100 ".concat(i||"")})}},7199:function(e,t,r){"use strict";var n=r(5893),s=r(8229),l=r(5139);let a=(0,l.j)("select-none relative duration-200 rounded-lg text-center w-fit flex justify-center items-center gap-2 disabled:pointer-events-none disabled:opacity-50",{variants:{intent:{accent:"bg-accent text-white hover:bg-accent/80 border border-violet-400",primary:"bg-primary text-primary-content hover:bg-primary/80",secondary:"bg-neutral-content text-secondary-foreground hover:bg-neutral-content/80 border border-neutral/30",destructive:"bg-error text-white hover:bg-error/80 border border-neutral/60",outline:"border border-input bg-background hover:bg-accent hover:text-accent-content",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{small:"h-7 px-2",medium:"h-10 px-4 py-2",large:"h-12 px-7 py-2",full:"px-4 py-2 w-full",icon:"h-10 w-10"},loading:{true:"cursor-wait"}},defaultVariants:{intent:"primary",size:"medium"}});t.Z=e=>{let{className:t,intent:r,size:l,children:o,disabled:i,loading:c=!1,...d}=e;return(0,n.jsx)("button",{className:(0,s.cn)(a({intent:r,size:l,className:t})),disabled:c||i,...d,children:o})}},5519:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(5893),s=r(7472),l=r(5675),a=r.n(l),o=r(1664),i=r.n(o);r(7294);var c=r(8276);function d(e){let{text:t,children:r,"data-testid":l}=e,{settings:o}=(0,s.Z)();return(0,n.jsx)("div",{className:"absolute top-0 bottom-0 left-0 right-0 flex justify-center items-center p-5","data-testid":l,children:(0,n.jsxs)("div",{className:"m-auto flex flex-col gap-2 w-full",children:[o.theme?(0,n.jsx)(a(),{src:"/linkwarden_".concat("dark"===o.theme?"dark":"light",".png"),width:640,height:136,alt:"Linkwarden",className:"h-12 w-fit mx-auto"}):void 0,t?(0,n.jsx)("p",{className:"text-lg max-w-[30rem] min-w-80 w-full mx-auto font-semibold px-2 text-center",children:t}):void 0,r,(0,n.jsx)("p",{className:"text-center text-xs text-neutral mb-5",children:(0,n.jsx)(c.cC,{values:{date:new Date().getFullYear()},i18nKey:"all_rights_reserved",components:[(0,n.jsx)(i(),{href:"https://linkwarden.app",className:"font-semibold"})]})})]})})}},9856:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return p},default:function(){return f}});var n=r(5893),s=r(7294),l=r(6501),a=r(4157),o=r(5519),i=r(3299),c=r(1664),d=r.n(c),u=r(7199),m=r(8276),x=r(4155),p=!0;function f(){let[e,t]=(0,s.useState)(""),[r,c]=(0,s.useState)(),[p,f]=(0,s.useState)(),[h,v]=(0,s.useState)(!1),{data:b}=(0,i.useSession)(),{t:g}=(0,m.$G)(),j=async()=>{if(""===e)return l.Am.error(g("fill_required_fields"));v(!0);let t=l.Am.loading(g("deleting_message")),n=await fetch("/api/v1/users/".concat(null==b?void 0:b.user.id),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,cancellation_details:{comment:r,feedback:p}})}),s=(await n.json()).response;l.Am.dismiss(t),n.ok?(0,i.signOut)():l.Am.error(s),v(!1)};return(0,n.jsx)(o.Z,{children:(0,n.jsxs)("div",{className:"p-4 mx-auto relative flex flex-col gap-3 justify-between max-w-[30rem] min-w-80 bg-base-200 rounded-2xl shadow-md border border-neutral-content",children:[(0,n.jsx)(d(),{href:"/settings/account",className:"absolute top-4 left-4 btn btn-ghost btn-square btn-sm",children:(0,n.jsx)("i",{className:"bi-chevron-left text-neutral text-xl"})}),(0,n.jsx)("div",{className:"flex items-center gap-2 w-full rounded-md h-8",children:(0,n.jsx)("p",{className:"text-red-500 dark:text-red-500 truncate w-full text-3xl text-center",children:g("delete_account")})}),(0,n.jsx)("div",{className:"divider my-0"}),(0,n.jsx)("p",{children:g("delete_warning")}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"mb-2",children:g("confirm_password")}),(0,n.jsx)(a.Z,{value:e,onChange:e=>t(e.target.value),placeholder:"••••••••••••••",className:"bg-base-100",type:"password"})]}),x.env.NEXT_PUBLIC_STRIPE?(0,n.jsxs)("fieldset",{className:"border rounded-md p-2 border-primary",children:[(0,n.jsxs)("legend",{className:"px-3 py-1 text-sm sm:text-base border rounded-md border-primary",children:[(0,n.jsx)("b",{children:g("optional")})," ",(0,n.jsx)("i",{children:g("feedback_help")})]}),(0,n.jsxs)("label",{className:"w-full flex min-[430px]:items-center items-start gap-2 mb-3 min-[430px]:flex-row flex-col",children:[(0,n.jsxs)("p",{className:"text-sm",children:[g("reason_for_cancellation"),":"]}),(0,n.jsxs)("select",{className:"rounded-md p-1 outline-none",value:p,onChange:e=>f(e.target.value),children:[(0,n.jsx)("option",{value:void 0,children:g("please_specify")}),(0,n.jsx)("option",{value:"customer_service",children:g("customer_service")}),(0,n.jsx)("option",{value:"low_quality",children:g("low_quality")}),(0,n.jsx)("option",{value:"missing_features",children:g("missing_features")}),(0,n.jsx)("option",{value:"switched_service",children:g("switched_service")}),(0,n.jsx)("option",{value:"too_complex",children:g("too_complex")}),(0,n.jsx)("option",{value:"too_expensive",children:g("too_expensive")}),(0,n.jsx)("option",{value:"unused",children:g("unused")}),(0,n.jsx)("option",{value:"other",children:g("other")})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm mb-2",children:g("more_information")}),(0,n.jsx)("textarea",{value:r,onChange:e=>c(e.target.value),placeholder:g("feedback_placeholder"),className:"resize-none w-full rounded-md p-2 border-neutral-content bg-base-100 focus:border-sky-300 dark:focus:border-sky-600 border-solid border outline-none duration-100"})]})]}):void 0,(0,n.jsx)(u.Z,{className:"mx-auto",intent:"destructive",loading:h,onClick:j,children:(0,n.jsx)("p",{className:"text-center w-full",children:g("delete_your_account")})})]})})}},5139:function(e,t,r){"use strict";r.d(t,{j:function(){return l}});let n=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,s=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,n,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(n=e(t[r]))&&(s&&(s+=" "),s+=n);else for(r in t)t[r]&&(s&&(s+=" "),s+=r)}return s}(e))&&(n&&(n+=" "),n+=t);return n},l=(e,t)=>r=>{var l;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(e=>{let t=null==r?void 0:r[e],s=null==o?void 0:o[e];if(null===t)return null;let l=n(t)||n(s);return a[e][l]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),d=null==t?void 0:null===(l=t.compoundVariants)||void 0===l?void 0:l.reduce((e,t)=>{let{class:r,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...c}[t]):({...o,...c})[t]===r})?[...e,r,n]:e},[]);return s(e,i,d,null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[664,675,774,888,179],function(){return e(e.s=4370)}),_N_E=e.O()}]);