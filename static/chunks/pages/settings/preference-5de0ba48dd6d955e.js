(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[393],{6073:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/preference",function(){return s(7656)}])},9223:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var n=s(5893);function r(e){let{label:t,state:s,className:r,onClick:a}=e;return(0,n.jsxs)("label",{className:"label cursor-pointer flex gap-2 justify-start ".concat(r||""),children:[(0,n.jsx)("input",{type:"checkbox",checked:s,onChange:a,className:"checkbox checkbox-primary"}),(0,n.jsx)("span",{className:"label-text",children:t})]})}},2144:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var n=s(5893),r=s(7294);function a(e){let t=0;for(;e;){let s=window.getComputedStyle(e).getPropertyValue("z-index"),n=Number(s);if("auto"!==s&&!isNaN(n)){t=n;break}e=e.parentElement}return t}function l(e){let{children:t,onClickOutside:s,className:l,style:i,onMount:c}=e,o=(0,r.useRef)(null);return(0,r.useEffect)(()=>{function e(e){let t=e.target;if(o.current&&!o.current.contains(t)){let n=a(o.current),r=a(t);r<=n&&s(e)}}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[o,s]),(0,r.useEffect)(()=>{if(o.current&&c){let e=o.current.getBoundingClientRect();c(e)}},[]),(0,n.jsx)("div",{ref:o,className:l,style:i,children:t})}},160:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var n=s(5893);function r(e){let{onClick:t,label:s,loading:r,className:a,type:l}=e;return(0,n.jsx)("button",{type:l||void 0,className:"btn btn-accent dark:border-violet-400 text-white tracking-wider w-fit flex items-center gap-2 ".concat(a||""),onClick:()=>{!r&&t&&t()},children:(0,n.jsx)("p",{children:s})})}},8050:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var n=s(7294);function r(){let[e,t]=(0,n.useState)({height:window.innerHeight,width:window.innerWidth});return(0,n.useEffect)(()=>{function e(){t({height:window.innerHeight,width:window.innerWidth})}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e}},1633:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var n=s(5893),r=s(1664),a=s.n(r),l=s(1163),i=s(7294),c=s(8276),o=s(4155);function d(e){let{className:t}=e,{t:s}=(0,c.$G)(),r=(0,l.useRouter)(),[d,u]=(0,i.useState)("");return(0,i.useEffect)(()=>{u(r.asPath)},[r]),(0,n.jsxs)("div",{className:"bg-base-100 h-full w-64 overflow-y-auto border-solid border border-base-100 border-r-neutral-content p-5 z-20 flex flex-col gap-5 justify-between ".concat(t||""),children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)(a(),{href:"/settings/account",children:(0,n.jsxs)("div",{className:"".concat("/settings/account"===d?"bg-primary/20":"hover:bg-neutral/20"," duration-100 py-5 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8"),children:[(0,n.jsx)("i",{className:"bi-person text-primary text-2xl"}),(0,n.jsx)("p",{className:"truncate w-full pr-7",children:s("account")})]})}),(0,n.jsx)(a(),{href:"/settings/preference",children:(0,n.jsxs)("div",{className:"".concat("/settings/preference"===d?"bg-primary/20":"hover:bg-neutral/20"," duration-100 py-5 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8"),children:[(0,n.jsx)("i",{className:"bi-sliders text-primary text-2xl"}),(0,n.jsx)("p",{className:"truncate w-full pr-7",children:s("preference")})]})}),(0,n.jsx)(a(),{href:"/settings/access-tokens",children:(0,n.jsxs)("div",{className:"".concat("/settings/access-tokens"===d?"bg-primary/20":"hover:bg-neutral/20"," duration-100 py-5 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8"),children:[(0,n.jsx)("i",{className:"bi-key text-primary text-2xl"}),(0,n.jsx)("p",{className:"truncate w-full pr-7",children:s("access_tokens")})]})}),(0,n.jsx)(a(),{href:"/settings/password",children:(0,n.jsxs)("div",{className:"".concat("/settings/password"===d?"bg-primary/20":"hover:bg-neutral/20"," duration-100 py-5 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8"),children:[(0,n.jsx)("i",{className:"bi-lock text-primary text-2xl"}),(0,n.jsx)("p",{className:"truncate w-full pr-7",children:s("password")})]})}),o.env.NEXT_PUBLIC_STRIPE&&(0,n.jsx)(a(),{href:"/settings/billing",children:(0,n.jsxs)("div",{className:"".concat("/settings/billing"===d?"bg-primary/20":"hover:bg-neutral/20"," duration-100 py-5 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8"),children:[(0,n.jsx)("i",{className:"bi-credit-card text-primary text-xl"}),(0,n.jsx)("p",{className:"truncate w-full pr-7",children:s("billing")})]})})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)(a(),{href:"https://github.com/linkwarden/linkwarden/releases",target:"_blank",className:"text-neutral text-sm ml-2 hover:opacity-50 duration-100",children:s("linkwarden_version",{version:"v2.7.1"})}),(0,n.jsx)(a(),{href:"https://docs.linkwarden.app",target:"_blank",children:(0,n.jsxs)("div",{className:"hover:bg-neutral/20 duration-100 py-2 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8",children:[(0,n.jsx)("i",{className:"bi-question-circle text-primary text-xl"}),(0,n.jsx)("p",{className:"truncate w-full pr-7",children:s("help")})]})}),(0,n.jsx)(a(),{href:"https://github.com/linkwarden/linkwarden",target:"_blank",children:(0,n.jsxs)("div",{className:"hover:bg-neutral/20 duration-100 py-2 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8",children:[(0,n.jsx)("i",{className:"bi-github text-primary text-xl"}),(0,n.jsx)("p",{className:"truncate w-full pr-7",children:s("github")})]})}),(0,n.jsx)(a(),{href:"https://twitter.com/LinkwardenHQ",target:"_blank",children:(0,n.jsxs)("div",{className:"hover:bg-neutral/20 duration-100 py-2 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8",children:[(0,n.jsx)("i",{className:"bi-twitter-x text-primary text-xl"}),(0,n.jsx)("p",{className:"truncate w-full pr-7",children:s("twitter")})]})}),(0,n.jsx)(a(),{href:"https://fosstodon.org/@linkwarden",target:"_blank",children:(0,n.jsxs)("div",{className:"hover:bg-neutral/20 duration-100 py-2 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8",children:[(0,n.jsx)("i",{className:"bi-mastodon text-primary text-xl"}),(0,n.jsx)("p",{className:"truncate w-full pr-7",children:s("mastodon")})]})})]})]})}var u=s(2144),x=s(8050);function h(e){let{children:t}=e,s=(0,l.useRouter)(),[r,c]=(0,i.useState)(!1),{width:o}=(0,x.Z)();(0,i.useEffect)(()=>{c(!1)},[o]),(0,i.useEffect)(()=>{c(!1)},[s]);let h=()=>{c(!r)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex max-w-screen-md mx-auto",children:[(0,n.jsx)("div",{className:"hidden lg:block fixed h-screen",children:(0,n.jsx)(d,{})}),(0,n.jsxs)("div",{className:"w-full min-h-screen p-5 lg:ml-64",children:[(0,n.jsxs)("div",{className:"gap-2 inline-flex mr-3",children:[(0,n.jsx)("div",{onClick:h,className:"text-neutral btn btn-square btn-sm btn-ghost lg:hidden",children:(0,n.jsx)("i",{className:"bi-list text-2xl leading-none"})}),(0,n.jsx)(a(),{href:"/dashboard",className:"text-neutral btn btn-square btn-sm btn-ghost",children:(0,n.jsx)("i",{className:"bi-chevron-left text-xl"})})]}),t,r?(0,n.jsx)("div",{className:"fixed top-0 bottom-0 right-0 left-0 bg-black bg-opacity-10 backdrop-blur-sm flex items-center fade-in z-30",children:(0,n.jsx)(u.Z,{className:"h-full",onClickOutside:h,children:(0,n.jsx)("div",{className:"slide-right h-full shadow-lg",children:(0,n.jsx)(d,{})})})}):null]})]})})}},7656:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return h},default:function(){return p}});var n=s(5893),r=s(1633),a=s(7294),l=s(160),i=s(6501),c=s(9223),o=s(7472),d=s(8276),u=s(385),x=s(2676),h=!0;function p(){let{t:e}=(0,d.$G)(),{updateSettings:t}=(0,o.Z)(),[s,h]=(0,a.useState)(!1),{data:p}=(0,x.a)(),m=(0,x.I)(),[f,b]=(0,a.useState)(p),[g,j]=(0,a.useState)(p.preventDuplicateLinks),[N,v]=(0,a.useState)(p.archiveAsScreenshot),[k,w]=(0,a.useState)(p.archiveAsPDF),[y,_]=(0,a.useState)(p.archiveAsMonolith),[E,S]=(0,a.useState)(p.archiveAsWaybackMachine),[C,L]=(0,a.useState)(p.linksRouteTo);(0,a.useEffect)(()=>{b({...p,archiveAsScreenshot:N,archiveAsMonolith:y,archiveAsPDF:k,archiveAsWaybackMachine:E,linksRouteTo:C,preventDuplicateLinks:g})},[p,N,y,k,E,C,g]),(0,a.useEffect)(()=>{0!==Object.keys(p).length&&(v(p.archiveAsScreenshot),_(p.archiveAsMonolith),w(p.archiveAsPDF),S(p.archiveAsWaybackMachine),L(p.linksRouteTo),j(p.preventDuplicateLinks))},[p]);let R=async()=>{h(!0);let t=i.Am.loading(e("applying_settings"));await m.mutateAsync({...f},{onSettled:(s,n)=>{i.Am.dismiss(t),n?i.Am.error(n.message):i.Am.success(e("settings_applied"))}}),h(!1)};return(0,n.jsxs)(r.Z,{children:[(0,n.jsx)("p",{className:"capitalize text-3xl font-thin inline",children:e("preference")}),(0,n.jsx)("div",{className:"divider my-3"}),(0,n.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"mb-3",children:e("select_theme")}),(0,n.jsxs)("div",{className:"flex gap-3 w-full",children:[(0,n.jsxs)("div",{className:"w-full text-center outline-solid outline-neutral-content outline dark:outline-neutral-700 h-36 duration-100 rounded-md flex items-center justify-center cursor-pointer select-none bg-black ".concat("dark"===localStorage.getItem("theme")?"dark:outline-primary text-primary":"text-white"),onClick:()=>t({theme:"dark"}),children:[(0,n.jsx)("i",{className:"bi-moon-fill text-6xl"}),(0,n.jsx)("p",{className:"ml-2 text-2xl",children:e("dark")})]}),(0,n.jsxs)("div",{className:"w-full text-center outline-solid outline-neutral-content outline dark:outline-neutral-700 h-36 duration-100 rounded-md flex items-center justify-center cursor-pointer select-none bg-white ".concat("light"===localStorage.getItem("theme")?"outline-primary text-primary":"text-black"),onClick:()=>t({theme:"light"}),children:[(0,n.jsx)("i",{className:"bi-sun-fill text-6xl"}),(0,n.jsx)("p",{className:"ml-2 text-2xl",children:e("light")})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"capitalize text-3xl font-thin inline",children:e("archive_settings")}),(0,n.jsx)("div",{className:"divider my-3"}),(0,n.jsx)("p",{children:e("formats_to_archive")}),(0,n.jsxs)("div",{className:"p-3",children:[(0,n.jsx)(c.Z,{label:e("screenshot"),state:N,onClick:()=>v(!N)}),(0,n.jsx)(c.Z,{label:e("webpage"),state:y,onClick:()=>_(!y)}),(0,n.jsx)(c.Z,{label:e("pdf"),state:k,onClick:()=>w(!k)}),(0,n.jsx)(c.Z,{label:e("archive_org_snapshot"),state:E,onClick:()=>S(!E)})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"capitalize text-3xl font-thin inline",children:e("link_settings")}),(0,n.jsx)("div",{className:"divider my-3"}),(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)(c.Z,{label:e("prevent_duplicate_links"),state:g,onClick:()=>j(!g)})}),(0,n.jsx)("p",{children:e("clicking_on_links_should")}),(0,n.jsxs)("div",{className:"p-3",children:[(0,n.jsxs)("label",{className:"label cursor-pointer flex gap-2 justify-start w-fit",tabIndex:0,role:"button",children:[(0,n.jsx)("input",{type:"radio",name:"link-preference-radio",className:"radio checked:bg-primary",value:"Original",checked:C===u.LinksRouteTo.ORIGINAL,onChange:()=>L(u.LinksRouteTo.ORIGINAL)}),(0,n.jsx)("span",{className:"label-text",children:e("open_original_content")})]}),(0,n.jsxs)("label",{className:"label cursor-pointer flex gap-2 justify-start w-fit",tabIndex:0,role:"button",children:[(0,n.jsx)("input",{type:"radio",name:"link-preference-radio",className:"radio checked:bg-primary",value:"PDF",checked:C===u.LinksRouteTo.PDF,onChange:()=>L(u.LinksRouteTo.PDF)}),(0,n.jsx)("span",{className:"label-text",children:e("open_pdf_if_available")})]}),(0,n.jsxs)("label",{className:"label cursor-pointer flex gap-2 justify-start w-fit",tabIndex:0,role:"button",children:[(0,n.jsx)("input",{type:"radio",name:"link-preference-radio",className:"radio checked:bg-primary",value:"Readable",checked:C===u.LinksRouteTo.READABLE,onChange:()=>L(u.LinksRouteTo.READABLE)}),(0,n.jsx)("span",{className:"label-text",children:e("open_readable_if_available")})]}),(0,n.jsxs)("label",{className:"label cursor-pointer flex gap-2 justify-start w-fit",tabIndex:0,role:"button",children:[(0,n.jsx)("input",{type:"radio",name:"link-preference-radio",className:"radio checked:bg-primary",value:"Monolith",checked:C===u.LinksRouteTo.MONOLITH,onChange:()=>L(u.LinksRouteTo.MONOLITH)}),(0,n.jsx)("span",{className:"label-text",children:e("open_webpage_if_available")})]}),(0,n.jsxs)("label",{className:"label cursor-pointer flex gap-2 justify-start w-fit",tabIndex:0,role:"button",children:[(0,n.jsx)("input",{type:"radio",name:"link-preference-radio",className:"radio checked:bg-primary",value:"Screenshot",checked:C===u.LinksRouteTo.SCREENSHOT,onChange:()=>L(u.LinksRouteTo.SCREENSHOT)}),(0,n.jsx)("span",{className:"label-text",children:e("open_screenshot_if_available")})]})]})]}),(0,n.jsx)(l.Z,{onClick:R,loading:s,label:e("save_changes"),className:"mt-2 w-full sm:w-fit"})]})]})}}},function(e){e.O(0,[664,385,774,888,179],function(){return e(e.s=6073)}),_N_E=e.O()}]);