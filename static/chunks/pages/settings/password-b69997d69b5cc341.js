(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[433],{8607:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/password",function(){return r(3946)}])},2144:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(5893),n=r(7294);function l(e){let t=0;for(;e;){let r=window.getComputedStyle(e).getPropertyValue("z-index"),s=Number(r);if("auto"!==r&&!isNaN(s)){t=s;break}e=e.parentElement}return t}function a(e){let{children:t,onClickOutside:r,className:a,style:i,onMount:c}=e,d=(0,n.useRef)(null);return(0,n.useEffect)(()=>{function e(e){let t=e.target;if(d.current&&!d.current.contains(t)){let s=l(d.current),n=l(t);n<=s&&r(e)}}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[d,r]),(0,n.useEffect)(()=>{if(d.current&&c){let e=d.current.getBoundingClientRect();c(e)}},[]),(0,s.jsx)("div",{ref:d,className:a,style:i,children:t})}},160:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(5893);function n(e){let{onClick:t,label:r,loading:n,className:l,type:a}=e;return(0,s.jsx)("button",{type:a||void 0,className:"btn btn-accent dark:border-violet-400 text-white tracking-wider w-fit flex items-center gap-2 ".concat(l||""),onClick:()=>{!n&&t&&t()},children:(0,s.jsx)("p",{children:r})})}},4157:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(5893);function n(e){let{autoFocus:t,value:r,type:n,placeholder:l,onChange:a,onKeyDown:i,className:c,spellCheck:d,"data-testid":o}=e;return(0,s.jsx)("input",{"data-testid":o,spellCheck:d,autoFocus:t,type:n||"text",placeholder:l,value:r,onChange:a,onKeyDown:i,className:"w-full rounded-md p-2 border-neutral-content border-solid border outline-none focus:border-primary duration-100 ".concat(c||"")})}},8050:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(7294);function n(){let[e,t]=(0,s.useState)({height:window.innerHeight,width:window.innerWidth});return(0,s.useEffect)(()=>{function e(){t({height:window.innerHeight,width:window.innerWidth})}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e}},1633:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var s=r(5893),n=r(1664),l=r.n(n),a=r(1163),i=r(7294),c=r(8276),d=r(4155);function o(e){let{className:t}=e,{t:r}=(0,c.$G)(),n=(0,a.useRouter)(),[o,u]=(0,i.useState)("");return(0,i.useEffect)(()=>{u(n.asPath)},[n]),(0,s.jsxs)("div",{className:"bg-base-100 h-full w-64 overflow-y-auto border-solid border border-base-100 border-r-neutral-content p-5 z-20 flex flex-col gap-5 justify-between ".concat(t||""),children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(l(),{href:"/settings/account",children:(0,s.jsxs)("div",{className:"".concat("/settings/account"===o?"bg-primary/20":"hover:bg-neutral/20"," duration-100 py-5 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8"),children:[(0,s.jsx)("i",{className:"bi-person text-primary text-2xl"}),(0,s.jsx)("p",{className:"truncate w-full pr-7",children:r("account")})]})}),(0,s.jsx)(l(),{href:"/settings/preference",children:(0,s.jsxs)("div",{className:"".concat("/settings/preference"===o?"bg-primary/20":"hover:bg-neutral/20"," duration-100 py-5 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8"),children:[(0,s.jsx)("i",{className:"bi-sliders text-primary text-2xl"}),(0,s.jsx)("p",{className:"truncate w-full pr-7",children:r("preference")})]})}),(0,s.jsx)(l(),{href:"/settings/access-tokens",children:(0,s.jsxs)("div",{className:"".concat("/settings/access-tokens"===o?"bg-primary/20":"hover:bg-neutral/20"," duration-100 py-5 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8"),children:[(0,s.jsx)("i",{className:"bi-key text-primary text-2xl"}),(0,s.jsx)("p",{className:"truncate w-full pr-7",children:r("access_tokens")})]})}),(0,s.jsx)(l(),{href:"/settings/password",children:(0,s.jsxs)("div",{className:"".concat("/settings/password"===o?"bg-primary/20":"hover:bg-neutral/20"," duration-100 py-5 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8"),children:[(0,s.jsx)("i",{className:"bi-lock text-primary text-2xl"}),(0,s.jsx)("p",{className:"truncate w-full pr-7",children:r("password")})]})}),d.env.NEXT_PUBLIC_STRIPE&&(0,s.jsx)(l(),{href:"/settings/billing",children:(0,s.jsxs)("div",{className:"".concat("/settings/billing"===o?"bg-primary/20":"hover:bg-neutral/20"," duration-100 py-5 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8"),children:[(0,s.jsx)("i",{className:"bi-credit-card text-primary text-xl"}),(0,s.jsx)("p",{className:"truncate w-full pr-7",children:r("billing")})]})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(l(),{href:"https://github.com/linkwarden/linkwarden/releases",target:"_blank",className:"text-neutral text-sm ml-2 hover:opacity-50 duration-100",children:r("linkwarden_version",{version:"v2.7.1"})}),(0,s.jsx)(l(),{href:"https://docs.linkwarden.app",target:"_blank",children:(0,s.jsxs)("div",{className:"hover:bg-neutral/20 duration-100 py-2 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8",children:[(0,s.jsx)("i",{className:"bi-question-circle text-primary text-xl"}),(0,s.jsx)("p",{className:"truncate w-full pr-7",children:r("help")})]})}),(0,s.jsx)(l(),{href:"https://github.com/linkwarden/linkwarden",target:"_blank",children:(0,s.jsxs)("div",{className:"hover:bg-neutral/20 duration-100 py-2 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8",children:[(0,s.jsx)("i",{className:"bi-github text-primary text-xl"}),(0,s.jsx)("p",{className:"truncate w-full pr-7",children:r("github")})]})}),(0,s.jsx)(l(),{href:"https://twitter.com/LinkwardenHQ",target:"_blank",children:(0,s.jsxs)("div",{className:"hover:bg-neutral/20 duration-100 py-2 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8",children:[(0,s.jsx)("i",{className:"bi-twitter-x text-primary text-xl"}),(0,s.jsx)("p",{className:"truncate w-full pr-7",children:r("twitter")})]})}),(0,s.jsx)(l(),{href:"https://fosstodon.org/@linkwarden",target:"_blank",children:(0,s.jsxs)("div",{className:"hover:bg-neutral/20 duration-100 py-2 px-2 cursor-pointer flex items-center gap-2 w-full rounded-md h-8",children:[(0,s.jsx)("i",{className:"bi-mastodon text-primary text-xl"}),(0,s.jsx)("p",{className:"truncate w-full pr-7",children:r("mastodon")})]})})]})]})}var u=r(2144),x=r(8050);function h(e){let{children:t}=e,r=(0,a.useRouter)(),[n,c]=(0,i.useState)(!1),{width:d}=(0,x.Z)();(0,i.useEffect)(()=>{c(!1)},[d]),(0,i.useEffect)(()=>{c(!1)},[r]);let h=()=>{c(!n)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex max-w-screen-md mx-auto",children:[(0,s.jsx)("div",{className:"hidden lg:block fixed h-screen",children:(0,s.jsx)(o,{})}),(0,s.jsxs)("div",{className:"w-full min-h-screen p-5 lg:ml-64",children:[(0,s.jsxs)("div",{className:"gap-2 inline-flex mr-3",children:[(0,s.jsx)("div",{onClick:h,className:"text-neutral btn btn-square btn-sm btn-ghost lg:hidden",children:(0,s.jsx)("i",{className:"bi-list text-2xl leading-none"})}),(0,s.jsx)(l(),{href:"/dashboard",className:"text-neutral btn btn-square btn-sm btn-ghost",children:(0,s.jsx)("i",{className:"bi-chevron-left text-xl"})})]}),t,n?(0,s.jsx)("div",{className:"fixed top-0 bottom-0 right-0 left-0 bg-black bg-opacity-10 backdrop-blur-sm flex items-center fade-in z-30",children:(0,s.jsx)(u.Z,{className:"h-full",onClickOutside:h,children:(0,s.jsx)("div",{className:"slide-right h-full shadow-lg",children:(0,s.jsx)(o,{})})})}):null]})]})})}},3946:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return u},default:function(){return x}});var s=r(5893),n=r(1633),l=r(7294),a=r(160),i=r(6501),c=r(4157),d=r(8276),o=r(2676),u=!0;function x(){let{t:e}=(0,d.$G)(),[t,r]=(0,l.useState)(""),[u,x]=(0,l.useState)(""),[h,p]=(0,l.useState)(!1),{data:m}=(0,o.a)(),f=(0,o.I)(),g=async()=>{if(""===u||""===t)return i.Am.error(e("fill_all_fields"));if(u.length<8)return i.Am.error(e("password_length_error"));p(!0);let s=i.Am.loading(e("applying_settings"));await f.mutateAsync({...m,newPassword:u,oldPassword:t},{onSettled:(t,n)=>{i.Am.dismiss(s),n?i.Am.error(n.message):(x(""),r(""),i.Am.success(e("settings_applied")))}}),p(!1)};return(0,s.jsxs)(n.Z,{children:[(0,s.jsx)("p",{className:"capitalize text-3xl font-thin inline",children:e("change_password")}),(0,s.jsx)("div",{className:"divider my-3"}),(0,s.jsx)("p",{className:"mb-3",children:e("password_change_instructions")}),(0,s.jsxs)("div",{className:"w-full flex flex-col gap-2 justify-between",children:[(0,s.jsx)("p",{children:e("old_password")}),(0,s.jsx)(c.Z,{value:t,className:"bg-base-200",onChange:e=>r(e.target.value),placeholder:"••••••••••••••",type:"password"}),(0,s.jsx)("p",{className:"mt-3",children:e("new_password")}),(0,s.jsx)(c.Z,{value:u,className:"bg-base-200",onChange:e=>x(e.target.value),placeholder:"••••••••••••••",type:"password"}),(0,s.jsx)(a.Z,{onClick:g,loading:h,label:e("save_changes"),className:"mt-3 w-full sm:w-fit"})]})]})}}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=8607)}),_N_E=e.O()}]);