(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{8557:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/collections/[id]",function(){return t(5720)}])},6279:function(e,l,t){"use strict";t.d(l,{Z:function(){return x}});var s=t(5893),n=t(7294),a=t(4157),i=t(1163),o=t(2980),r=t(7169),c=t(7199),d=t(8276),u=t(7179),m=t(6501);function x(e){let{onClose:l,activeCollection:t}=e,{t:x}=(0,d.$G)(),[h,v]=(0,n.useState)(t),[f,j]=(0,n.useState)(!1),p=(0,i.useRouter)(),[b,g]=(0,n.useState)(""),w=(0,o.Z)(h.id);(0,n.useEffect)(()=>{v(t)},[]);let N=(0,u.Do)(),_=async()=>{if((!0!==w||h.name===b)&&!f){if(j(!0),!h)return null;j(!0);let e=m.ZP.loading(x("deleting_collection"));N.mutateAsync(h.id,{onSettled:(t,s)=>{m.ZP.dismiss(e),s?m.ZP.error(s.message):(l(),m.ZP.success(x("deleted")),p.push("/collections"))}}),j(!1)}};return(0,s.jsxs)(r.Z,{toggleModal:l,children:[(0,s.jsx)("p",{className:"text-xl font-thin text-red-500",children:!0===w?x("delete_collection"):x("leave_collection")}),(0,s.jsx)("div",{className:"divider mb-3 mt-1"}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[!0===w?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:x("confirm_deletion_prompt",{name:h.name})}),(0,s.jsx)(a.Z,{value:b,onChange:e=>g(e.target.value),placeholder:x("type_name_placeholder",{name:h.name}),className:"w-3/4 mx-auto"}),(0,s.jsxs)("div",{role:"alert",className:"alert alert-warning",children:[(0,s.jsx)("i",{className:"bi-exclamation-triangle text-xl"}),(0,s.jsxs)("span",{children:[(0,s.jsxs)("b",{children:[x("warning"),": "]}),x("deletion_warning")]})]})]}):(0,s.jsx)("p",{children:x("leave_prompt")}),(0,s.jsxs)(c.Z,{disabled:!0===w&&b!==h.name,onClick:_,intent:"destructive",className:"ml-auto",children:[(0,s.jsx)("i",{className:"bi-trash text-xl"}),!0===w?x("delete"):x("leave")]})]})]})}},377:function(e,l,t){"use strict";t.d(l,{Z:function(){return u}});var s=t(5893),n=t(7294),a=t(4157),i=t(5651),o=t(7169),r=t(8276),c=t(7179),d=t(6501);function u(e){let{onClose:l,activeCollection:t}=e,{t:u}=(0,r.$G)(),[m,x]=(0,n.useState)(t),[h,v]=(0,n.useState)(!1),f=(0,c.vU)(),j=async()=>{if(!h){if(v(!0),!m)return null;v(!0);let e=d.ZP.loading(u("updating_collection"));await f.mutateAsync(m,{onSettled:(t,s)=>{d.ZP.dismiss(e),s?d.ZP.error(s.message):(l(),d.ZP.success(u("updated")))}}),v(!1)}};return(0,s.jsxs)(o.Z,{toggleModal:l,children:[(0,s.jsx)("p",{className:"text-xl font-thin",children:u("edit_collection_info")}),(0,s.jsx)("div",{className:"divider mb-3 mt-1"}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("p",{className:"mb-2",children:u("name")}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)(a.Z,{className:"bg-base-200",value:m.name,placeholder:u("collection_name_placeholder"),onChange:e=>x({...m,name:e.target.value})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"w-full mb-2",children:u("color")}),(0,s.jsxs)("div",{className:"color-picker flex justify-between items-center",children:[(0,s.jsx)(i.gW,{color:m.color,onChange:e=>x({...m,color:e})}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 items-center w-32",children:[(0,s.jsx)("i",{className:"bi-folder-fill text-5xl",style:{color:m.color}}),(0,s.jsx)("div",{className:"btn btn-ghost btn-xs",onClick:()=>x({...m,color:"#0ea5e9"}),children:u("reset")})]})]})]})]})]}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("p",{className:"mb-2",children:u("description")}),(0,s.jsx)("textarea",{className:"w-full h-[13rem] resize-none border rounded-md duration-100 bg-base-200 p-2 outline-none border-neutral-content focus:border-primary",placeholder:u("collection_description_placeholder"),value:m.description,onChange:e=>x({...m,description:e.target.value})})]})]}),(0,s.jsx)("button",{className:"btn btn-accent dark:border-violet-400 text-white w-fit ml-auto",onClick:j,children:u("save_changes")})]})]})}},5918:function(e,l,t){"use strict";t.d(l,{Z:function(){return o}});var s=t(5893),n=t(7294),a=t(5016),i=t(8276);function o(e){let{text:l}=e,{t}=(0,i.$G)(),[o,r]=(0,n.useState)(!1);return(0,s.jsxs)("div",{className:"w-full h-full flex flex-col justify-center p-3",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-1/4 min-w-[7rem] max-w-[15rem] h-auto mx-auto mb-5 text-primary drop-shadow",fill:"currentColor",viewBox:"0 0 16 16",children:[(0,s.jsx)("path",{d:"M9.752 6.193c.599.6 1.73.437 2.528-.362.798-.799.96-1.932.362-2.531-.599-.6-1.73-.438-2.528.361-.798.8-.96 1.933-.362 2.532"}),(0,s.jsx)("path",{d:"M15.811 3.312c-.363 1.534-1.334 3.626-3.64 6.218l-.24 2.408a2.56 2.56 0 0 1-.732 1.526L8.817 15.85a.51.51 0 0 1-.867-.434l.27-1.899c.04-.28-.013-.593-.131-.956a9.42 9.42 0 0 0-.249-.657l-.082-.202c-.815-.197-1.578-.662-2.191-1.277-.614-.615-1.079-1.379-1.275-2.195l-.203-.083a9.556 9.556 0 0 0-.655-.248c-.363-.119-.675-.172-.955-.132l-1.896.27A.51.51 0 0 1 .15 7.17l2.382-2.386c.41-.41.947-.67 1.524-.734h.006l2.4-.238C9.005 1.55 11.087.582 12.623.208c.89-.217 1.59-.232 2.08-.188.244.023.435.06.57.093.067.017.12.033.16.045.184.06.279.13.351.295l.029.073a3.475 3.475 0 0 1 .157.721c.055.485.051 1.178-.159 2.065Zm-4.828 7.475.04-.04-.107 1.081a1.536 1.536 0 0 1-.44.913l-1.298 1.3.054-.38c.072-.506-.034-.993-.172-1.418a8.548 8.548 0 0 0-.164-.45c.738-.065 1.462-.38 2.087-1.006ZM5.205 5c-.625.626-.94 1.351-1.004 2.09a8.497 8.497 0 0 0-.45-.164c-.424-.138-.91-.244-1.416-.172l-.38.054 1.3-1.3c.245-.246.566-.401.91-.44l1.08-.107-.04.039Zm9.406-3.961c-.38-.034-.967-.027-1.746.163-1.558.38-3.917 1.496-6.937 4.521-.62.62-.799 1.34-.687 2.051.107.676.483 1.362 1.048 1.928.564.565 1.25.941 1.924 1.049.71.112 1.429-.067 2.048-.688 3.079-3.083 4.192-5.444 4.556-6.987.183-.771.18-1.345.138-1.713a2.835 2.835 0 0 0-.045-.283 3.078 3.078 0 0 0-.3-.041Z"}),(0,s.jsx)("path",{d:"M7.009 12.139a7.632 7.632 0 0 1-1.804-1.352A7.568 7.568 0 0 1 3.794 8.86c-1.102.992-1.965 5.054-1.839 5.18.125.126 3.936-.896 5.054-1.902Z"})]}),(0,s.jsx)("p",{className:"text-center text-xl sm:text-2xl",children:l||"You haven't created any Links Here"}),(0,s.jsx)("p",{className:"text-center text-sm sm:text-base",children:t("start_journey")}),(0,s.jsx)("div",{className:"text-center w-full mt-4",children:(0,s.jsxs)("div",{onClick:()=>{r(!0)},className:"inline-flex gap-1 relative w-[11rem] items-center btn btn-accent dark:border-violet-400 text-white group",children:[(0,s.jsx)("i",{className:"bi-plus-lg text-3xl left-2 group-hover:ml-[4rem] absolute duration-100"}),(0,s.jsx)("span",{className:"group-hover:opacity-0 text-right w-full duration-100",children:t("create_new_link")})]})}),o?(0,s.jsx)(a.Z,{onClose:()=>r(!1)}):void 0]})}},5720:function(e,l,t){"use strict";t.r(l),t.d(l,{__N_SSP:function(){return Z},default:function(){return y}});var s=t(5893),n=t(7102),a=t(1163),i=t(7294),o=t(8465),r=t(5130),c=t(2980),d=t(5918),u=t(7472),m=t(1256),x=t(377),h=t(4128),v=t(6279),f=t(8229),j=t(6081),p=t(8276),b=t(148),g=t(7179),w=t(2676),N=t(6496),_=t(1821),Z=!0;function y(){var e,l,t,Z;let{t:y}=(0,p.$G)(),{settings:C}=(0,u.Z)(),k=(0,a.useRouter)(),{data:S=[]}=(0,g.bX)(),[M,P]=(0,i.useState)(null!==(Z=Number(localStorage.getItem("sortBy")))&&void 0!==Z?Z:n.PE.DateNewestFirst),{links:E,data:I}=(0,N.u8)({sort:M,collectionId:Number(k.query.id)}),[A,D]=(0,i.useState)(),F=(0,c.Z)(null==A?void 0:A.id);(0,i.useEffect)(()=>{D(S.find(e=>e.id===Number(k.query.id)))},[k,S]);let{data:B={}}=(0,w.a)(),[G,$]=(0,i.useState)({id:null,name:"",username:"",image:"",archiveAsScreenshot:void 0,archiveAsMonolith:void 0,archiveAsPDF:void 0});(0,i.useEffect)(()=>{let e=async()=>{if(A&&A.ownerId!==B.id){let e=await (0,m.Z)(A.ownerId);$(e)}else A&&A.ownerId===B.id&&$({id:B.id,name:B.name,username:B.username,image:B.image,archiveAsScreenshot:B.archiveAsScreenshot,archiveAsMonolith:B.archiveAsScreenshot,archiveAsPDF:B.archiveAsPDF})};e()},[A]);let[q,z]=(0,i.useState)(!1),[L,O]=(0,i.useState)(!1),[U,X]=(0,i.useState)(!1),[R,T]=(0,i.useState)(!1),[H,V]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(H)return V(!1)},[k]);let[W,Y]=(0,i.useState)(localStorage.getItem("viewMode")||n.wO.Card);return(0,s.jsxs)(o.Z,{children:[(0,s.jsxs)("div",{className:"h-[60rem] p-5 flex gap-3 flex-col",style:{backgroundImage:"linear-gradient(".concat(null==A?void 0:A.color,"20 10%, ").concat("dark"===C.theme?"#262626":"#f3f4f6"," 13rem, ").concat("dark"===C.theme?"#171717":"#ffffff"," 100%)")},children:[A&&(0,s.jsxs)("div",{className:"flex gap-3 items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("i",{className:"bi-folder-fill text-3xl drop-shadow",style:{color:null==A?void 0:A.color}}),(0,s.jsx)("p",{className:"sm:text-3xl text-2xl capitalize w-full py-1 break-words hyphens-auto font-thin",children:null==A?void 0:A.name})]}),(0,s.jsxs)("div",{className:"dropdown dropdown-bottom dropdown-end mt-2",children:[(0,s.jsx)("div",{tabIndex:0,role:"button",onMouseDown:f.Mm,className:"btn btn-ghost btn-sm btn-square text-neutral",children:(0,s.jsx)("i",{className:"bi-three-dots text-xl",title:"More"})}),(0,s.jsxs)("ul",{className:"dropdown-content z-[30] menu shadow bg-base-200 border border-neutral-content rounded-box mt-1",children:[!0===F&&(0,s.jsx)("li",{children:(0,s.jsx)("div",{role:"button",tabIndex:0,onClick:()=>{var e,l;null===(e=null===(l=document)||void 0===l?void 0:l.activeElement)||void 0===e||e.blur(),z(!0)},className:"whitespace-nowrap",children:y("edit_collection_info")})}),(0,s.jsx)("li",{children:(0,s.jsx)("div",{role:"button",tabIndex:0,onClick:()=>{var e,l;null===(e=null===(l=document)||void 0===l?void 0:l.activeElement)||void 0===e||e.blur(),X(!0)},className:"whitespace-nowrap",children:y(!0===F?"share_and_collaborate":"view_team")})}),!0===F&&(0,s.jsx)("li",{children:(0,s.jsx)("div",{role:"button",tabIndex:0,onClick:()=>{var e,l;null===(e=null===(l=document)||void 0===l?void 0:l.activeElement)||void 0===e||e.blur(),O(!0)},className:"whitespace-nowrap",children:y("create_subcollection")})}),(0,s.jsx)("li",{children:(0,s.jsx)("div",{role:"button",tabIndex:0,onClick:()=>{var e,l;null===(e=null===(l=document)||void 0===l?void 0:l.activeElement)||void 0===e||e.blur(),T(!0)},className:"whitespace-nowrap",children:y(!0===F?"delete_collection":"leave_collection")})})]})]})]}),A&&(0,s.jsx)("div",{className:"min-w-[15rem]",children:(0,s.jsxs)("div",{className:"flex gap-1 justify-center sm:justify-end items-center w-fit",children:[(0,s.jsxs)("div",{className:"flex items-center btn px-2 btn-ghost rounded-full w-fit",onClick:()=>X(!0),children:[G.id?(0,s.jsx)(r.Z,{src:G.image||void 0,name:G.name}):void 0,A.members.sort((e,l)=>e.userId-l.userId).map((e,l)=>(0,s.jsx)(r.Z,{src:e.user.image?e.user.image:void 0,className:"-ml-3",name:e.user.name},l)).slice(0,3),A.members.length-3>0?(0,s.jsx)("div",{className:"avatar drop-shadow-md placeholder -ml-3",children:(0,s.jsx)("div",{className:"bg-base-100 text-neutral rounded-full w-8 h-8 ring-2 ring-neutral-content",children:(0,s.jsxs)("span",{children:["+",A.members.length-3]})})}):null]}),(0,s.jsx)("p",{className:"text-neutral text-sm",children:A.members.length>0&&1===A.members.length?y("by_author_and_other",{author:G.name,count:A.members.length}):A.members.length>0&&1!==A.members.length?y("by_author_and_others",{author:G.name,count:A.members.length}):y("by_author",{author:G.name})})]})}),(null==A?void 0:A.description)&&(0,s.jsx)("p",{children:null==A?void 0:A.description}),(0,s.jsx)("div",{className:"divider my-0"}),(0,s.jsx)(b.Z,{t:y,viewMode:W,setViewMode:Y,sortBy:M,setSortBy:P,editMode:!0===F||(null==F?void 0:F.canUpdate)||(null==F?void 0:F.canDelete)?H:void 0,setEditMode:!0===F||(null==F?void 0:F.canUpdate)||(null==F?void 0:F.canDelete)?V:void 0,children:(0,s.jsx)("p",{children:(null==A?void 0:null===(e=A._count)||void 0===e?void 0:e.links)===1?y("showing_count_result",{count:null==A?void 0:null===(l=A._count)||void 0===l?void 0:l.links}):y("showing_count_results",{count:null==A?void 0:null===(t=A._count)||void 0===t?void 0:t.links})})}),(0,s.jsx)(_.ZP,{editMode:H,links:E,layout:W,placeholderCount:1,useData:I}),!I.isLoading&&E&&!E[0]&&(0,s.jsx)(d.Z,{})]}),A&&(0,s.jsxs)(s.Fragment,{children:[q&&(0,s.jsx)(x.Z,{onClose:()=>z(!1),activeCollection:A}),U&&(0,s.jsx)(h.Z,{onClose:()=>X(!1),activeCollection:A}),L&&(0,s.jsx)(j.Z,{onClose:()=>O(!1),parent:A}),R&&(0,s.jsx)(v.Z,{onClose:()=>T(!1),activeCollection:A})]})]})}}},function(e){e.O(0,[517,664,675,584,832,385,463,797,598,283,465,907,7,128,774,888,179],function(){return e(e.s=8557)}),_N_E=e.O()}]);